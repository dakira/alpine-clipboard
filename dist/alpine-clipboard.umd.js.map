{"version":3,"file":"alpine-clipboard.umd.js","sources":["../src/index.js"],"sourcesContent":["const AlpinePlugin = {\n    start() {\n        if (!window.Alpine) {\n            throw new Error('Alpine is required for `alpine-clipboard` to work.')\n        }\n\n        Alpine.addMagicProperty('clipboard', () => {\n            return function (target) {\n                let value = target\n\n                if (typeof value !== 'string') {\n                    try {\n                        value = JSON.stringify(value)\n                    } catch (e) {\n                        console.warn(e)\n                    }\n                }\n\n                const container = document.createElement('textarea')\n\n                container.value = value\n                container.setAttribute('readonly', '')\n                container.style.cssText = 'position:fixed;pointer-events:none;z-index:-9999;opacity:0;'\n\n                document.body.appendChild(container)\n\n                if (navigator.userAgent && navigator.userAgent.match(/ipad|ipod|iphone/i)) {\n                    container.contentEditable = true\n                    container.readOnly = true\n\n                    const range = document.createRange()\n\n                    range.selectNodeContents(container)\n\n                    const selection = window.getSelection()\n\n                    selection.removeAllRanges()\n                    selection.addRange(range)\n\n                    container.setSelectionRange(0, 999999)\n                } else {\n                    container.select()\n                }\n\n                try {\n                    document.execCommand('copy')\n                } catch (e) {\n                    console.warn(err)\n                }\n\n                document.body.removeChild(container)\n            }\n        })\n    }\n}\n\nconst alpine = window.deferLoadingAlpine || ((callback) => callback())\n\nwindow.deferLoadingAlpine = function (callback) {\n    AlpinePlugin.start()\n\n    alpine(callback)\n}\n\nexport default AlpinePlugin"],"names":["AlpinePlugin","start","window","Alpine","Error","addMagicProperty","target","value","JSON","stringify","e","console","warn","container","document","createElement","setAttribute","style","cssText","body","appendChild","navigator","userAgent","match","contentEditable","readOnly","range","createRange","selectNodeContents","selection","getSelection","removeAllRanges","addRange","setSelectionRange","select","execCommand","err","removeChild","alpine","deferLoadingAlpine","callback"],"mappings":"wLAAA,MAAMA,EAAe,CACjBC,QACI,IAAKC,OAAOC,OACR,UAAUC,MAAM,sDAGpBD,OAAOE,iBAAiB,YAAa,aAChBC,GACb,IAAIC,EAAQD,EAEZ,GAAqB,iBAAVC,EACP,IACIA,EAAQC,KAAKC,UAAUF,GACzB,MAAOG,GACLC,QAAQC,KAAKF,GAIrB,MAAMG,EAAYC,SAASC,cAAc,YAQzC,GANAF,EAAUN,MAAQA,EAClBM,EAAUG,aAAa,WAAY,IACnCH,EAAUI,MAAMC,QAAU,8DAE1BJ,SAASK,KAAKC,YAAYP,GAEtBQ,UAAUC,WAAaD,UAAUC,UAAUC,MAAM,qBAAsB,CACvEV,EAAUW,iBAAkB,EAC5BX,EAAUY,UAAW,EAErB,MAAMC,EAAQZ,SAASa,cAEvBD,EAAME,mBAAmBf,GAEzB,MAAMgB,EAAY3B,OAAO4B,eAEzBD,EAAUE,kBACVF,EAAUG,SAASN,GAEnBb,EAAUoB,kBAAkB,EAAG,aAE/BpB,EAAUqB,SAGd,IACIpB,SAASqB,YAAY,QACvB,MAAOzB,GACLC,QAAQC,KAAKwB,KAGjBtB,SAASK,KAAKkB,YAAYxB,OAMpCyB,EAASpC,OAAOqC,qBAAwBC,GAAaA,YAE3DtC,OAAOqC,mBAAqB,SAAUC,GAClCxC,EAAaC,QAEbqC,EAAOE"}